#parse("../Layout.vm")
#if($listing)
    #set($address = $listing.getAddress())
    #set($rent = $listing.getRent())
    #set($desc = $listing.getDesc())
    #set($payments = $listing.getPayment_frequency().getTo_str())
    #set($lid = $listing.getLID())
#else
    #set($address = "")
    #set($rent = "")
    #set($desc = "")
    #set($payments = "")
    #set($lid = "")
#end
#@mainLayout()
    #if(!$viewonly && $loggedin && (!$listing || $listing.getUser().checkIfSameUser($currentuser)))
        <script type="application/javascript">
            $( function(){
                $('.datepicker').datepicker();
                $('.datepicker').datepicker();
            });
        </script>
        <h3 class="form-title">Create a new Listing</h3>
        <form class="listing-form" action='' method="post">

            <div class="form-group">
                <select class="form-input" name="housing" id="housing">
                    #foreach($h in $house)
                        <option value=$h>$h.getTo_str()</option>
                    #end
                </select>
            </div>
            <div class="form-group">
                <input class="form-input" placeholder="Address" id="address" name="address" class="form-control" type="text">
            </div>
            <div class="form-group">
                <input class="form-input" placeholder="Rent" id="rent" name="rent" class="form-control" type="text" value="$rent">
            </div>
            <div class="form-group">
                <select class="form-input" name="payment" id="payment" type="text">
                    #foreach($pay in $payment)
                        <option value=$pay
                            #if($pay.getTo_str().equals($payments))
                                    selected
                            #end
                        >$pay.getTo_str()</option>
                    #end
                </select>
            </div>
            <div class="form-group">
                <input class="form-input datepicker form-control" placeholder="Start Date: (MM/DD/YYYY)" name="startdate" type="text" value="">
            </div>
            <div class="form-group">
                <input class="form-input datepicker form-control" placeholder="End Date: (MM/DD/YYYY)" name="enddate" type="text" value="">
            </div>
            <div class="form-group">

                <select class="form-input" name="gender" id="gender">
                    #foreach($gend in $gender)
                        <option value="$gend">$gend.getTo_str()</option>
                    #end
                </select>
            </div>

            <div class="form-group">
                <select class="form-input" name="furn" id="furn">
                    #foreach($f in $furn)
                        <option value=$f>$f.getTo_str()</option>
                    #end
                </select>
            </div>
            <div class="form-group">
                <textarea class="form-input text-area" placeholder="Description" id="dis" name="dis" class="form-control" type="text">$desc</textarea>
            </div>
            <input type="hidden" name="lid" value="$lid"/>
            <button type="submit" class="btn">Submit</button>
        </form>
    #elseif($listing)
        #parse("../fragments/listing.vm")
    #end
#end